<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <title>Task Preview like in Amazon Mechanical Turk</title>
  <style>
      iframe {
          position: fixed;
          top: 0;
          left: 0;
          bottom: 0;
          right: 0;
          width: 100%;
          height: 100%;
          border: none;
          margin: 0;
          padding: 0;
          overflow: hidden;
          z-index: 999999;
      }
  </style>
</head>
<body>

<iframe src="about:blank">Your browser doesn't support iframes.</iframe>

<script type="text/javascript">
  function loadTemplatePage(path, substitutions) {
    const xhr = new XMLHttpRequest();
    xhr.onreadystatechange = () => {
      if (xhr.readyState === XMLHttpRequest.DONE) {
        const htmlContent = Object.entries(substitutions).reduce((content, [k, v]) => content.replace(k, v),
            xhr.responseText);

        const doc = document.getElementsByTagName("iframe")[0].contentWindow.document;
        doc.open();
        doc.write(htmlContent);
        doc.close();
      }
    };
    xhr.open("GET", path);
    xhr.send();
  }

  loadTemplatePage("multi-video-one-by-one.html", {
    "${video1_id}": "fE0IMwcSGsU",
    "${question1}": "A person is cleaning a window with [MASK].",
    "${video1_start_time}": "38",
    "${video1_end_time}": "48",

    "${video2_id}": "ptxp1eX-JF4",
    "${question2}": "A person uses [MASK] to dig into an ice face and climb it.",
    "${video2_start_time}": "171",
    "${video2_end_time}": "181",

    "${video3_id}": "HIt3PhUz32w",
    "${question3}": "[MASK] in a gym holding a bar while doing squats.",
    "${video3_end_time}": "12",
    "${video3_start_time}": "2",

    "${video4_id}": "tbdQK8Hox24",
    "${video4_end_time}": "282",
    "${question4}": "[MASK] is doing some cooking as he scrambles the eggs on the pan.",
    "${video4_start_time}": "272",

    "${video5_id}": "O5LZv3B4ZPM",
    "${question5}": "A man attaches a washer to a large machine and describes [MASK].",
    "${video5_start_time}": "80",
    "${video5_end_time}": "90",
  });
</script>

</body>
</html>
