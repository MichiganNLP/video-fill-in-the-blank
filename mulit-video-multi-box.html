<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css"
  integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">

<style>
  #instructions,
  li {
    color: gray;
  }

  #container {
    position: relative;
  }

  input {
    border: 1px solid #C2C2C2;
    box-shadow: 1px 1px 4px #EBEBEB;
    border-radius: 4px;
    padding: 5px;
    margin-left: 1px;
    margin-bottom: 2px;
  }

  .video-controls {
    border-radius: 15px;
    background-color: rgba(117, 122, 118, 0.822);
    /* Green */
    border: white;
    color: white;
    padding: 7px 15px;
    text-align: center;
    font-size: 16px;
  }

  .pre-question-label{
    font-size: 23px;
    padding-left:40px;
  }

  .question {
    margin: auto auto 20px auto;
    text-align: center;
  }

  .video {
    display: block;
    height: 360px;
    margin: 10px auto;
  }

  .loading-video {
    position: relative;
    top: 50%;
    text-align: center;
  }

  .video-relates {
    position: relative;
    text-align: center;
  }

  .answer-label-div {
    text-align: center;
  }

  .answer-block {
    margin: auto;
    width: 80%;
    text-align: center;
  }

  .instance {
    border-radius: 15px;
    border: 4px dashed #cee3e9;
    margin-bottom: 10px;
  }

  #error-message1,
  #error-message2,
  #error-message3,
  #error-message4,
  #error-message5 {
    margin: auto;
    width: 50%;
    display: none;
    text-align: center;
  }
</style>

<crowd-form>
  <div id="container" class="container">
    <h1 id="general-title">Fill in the blanks according to video content</h1>

    <details id="instructions">
      <summary>Instructions (including <b>bonus</b> information)</summary>

      <br>

      <p>We need help answering ("filling") these blanks based on video content (including the audio).</p>

      <h2>Basic Instructions</h2>

      <ul>
        <li>There are five sentences with a blank, you need to fill in <u>all</u> five blanks 
          according to the content in the video (including audio).</li>
        <li>
          To "fill in the blank", write in the text boxes. Write one or more answers in the boxes,
          <b>one per box</b>.
        </li>
        <ul>
          <li>
            Each answer needs to be one or more entities (a noun phrase), which should contain <b>one or more words</b>.
          </li>
          <li>
            The answers may refer to different things, but could also (and likely will) be different ways of saying the same thing 
            (as we seek diversity in the answers).
          </li>
        </ul>
        <ul>
          <li>Provide the answers <b>in order</b>: the first answer should be the most natural to you, 
            the last answer should be the least natural to you; but all should be valid answers.</li>
        </ul>
        <li>If the video is unavailable, just fill in <u><i>"unavailable video"</i></u>.</li>
      </ul>

      <h2>How To Answer</h2>

      Each answer should be one or more <b>valid</b>, <b>natural</b>, <b>objective</b> and <b>brief</b> entities,
      and should complete the text such that the text becomes a good description of the video.

      <ul>
        <li>
          Each answer should contain one or more words.
        </li>
        <li>It should be valid, in the sense that it should be an appropriate answer for what is represented in the
          video.</li>
        <ul>
          <li>E.g., saying <i>"<font color="red">cat</font>"</i> when there's clearly no cat but a <i>dog</i> in the video, is considered <u>invalid</u>.
          </li>
        </ul>
        <li>It should be natural, in the sense that it should be something you would normally say in the situation shown
          in the video.</li>
        <ul>
          <li>E.g., <i>"<font color="red">object</font>"</i> and <i>"<font color="red">entity</font>"</i> <u>aren't</u> something you'd naturally say.</li>
        </ul>
        <li>They should be <u>in order</u>. The first answer should be the one that naturally comes to your mind first, 
          and the following ones should feel less and less natural to you.
        </li>
        <li>Respond matter-of-factly (as objectively as possible). Stick to what you can see or hear from the video.</li>
        <ul>
          <li>E.g., <i>“<font color="red">beautiful</font>”</i> is likely <u>not</u> a good word to use within an answer.</li>
        </ul>
        <li>Don't use descriptors unless necessary.</li>
        <ul>
          <li><i>"<font color="red">yellow ball</font>"</i> -> <i>"<font color="blue">ball</font>"</i></li>
          <li><i>"<font color="red">cute dog</font>"</i> -> <i>"<font color="blue">dog</font>"</i></li>
        </ul>
        <li>
          When you enter numbers, please enter digits instead of text
          <ul>
            <li><i>"<font color="red">Seventeen</font>"</i> -> <i>"<font color="blue">17</font>"</i></li>
          </ul>
        </li>
        <li>Use your best judgment.</li>
      </ul>

      <h2>HIT Acceptance</h2>

      Your HITs will be accepted based on how <b>accurate</b> and <b>comprehensive</b> your answers are.

      <ul>
        <li>Generally speaking, the more answers you provide, the better.</li>
        <li>But remember, every answer has to be <u>valid</u>, <u>natural</u>, <u>objective</u>, and <u>brief</u> for the given context.</li>
        <li>
          The top workers will be awarded a <b>bonus</b>.
        </li>
      </ul>

      <div class="instance" id="example" style="color: black">
        <br>
        <h2 style="text-align: center">Example</h2>
        <div class="video" id="video0">
          <p class="loading-video">Loading video...</p>
        </div>
        <div class="video-relates">
          <label id="video-instruction-example" style="font-size:18px;">
            Please watch this <i>10-second</i> video while you listen to its <b><u>audio</u></b> (you may need to adjust
            your <b>device volume</b>).
            <br>When the video ends, <b>do not</b> click on any other video. Click the <u>buttons below</u> to control the
            video.
          </label>
          <br>
          <button id="minus-seconds0" type="button" class="video-controls">- 5s</button>
          <button id="speed-down0" type="button" class="video-controls">Speed<big>&#8595</big></button>
          <button id="restart-video0" type="button" class="video-controls"><big>&#8634</big></button>
          <button id="speed-up0" type="button" class="video-controls">Speed<big>&#8593</big></button>
          <button id="add-seconds0" type="button" class="video-controls">+ 5s</button>
        </div>
        <hr>
  
        <label class="pre-question-label" id="pre-question-label-example"><b><i>Fill in the blank:</i></b></label>
        <h2 class="question" id="question-example">The person drinks <a><u><i><font color="gray">&ltentity&gt</font></i></u></a>.</h2>
        <br>
        <div class="answer-label-div">
          <label style="font-size:18px;" for="answers" class="answer-label" id="answer-label1">
            Each provided answer needs to be <big><i><u><b>one or more entities</b></u></i></big>, which should contain one or more words;
            <br>Please review the <a href="#instructions">Instructions</a> (includes information about the <b>bonus</b>);
            <br>Fill in <b>valid</b>, <b>natural</b>, <b>objective</b> and <b>brief</b> answers (please fill in as many answers as
            possible, while still being valid, natural, objective and brief);
            <br>You do <b>not</b> need to fill in all boxes, but the more you fill in, with the higher probability you can get the <b>bonus</b>;
            <br>Fill in the boxes <b>in order</b> from the most natural to the least natural answer.
            <br>Write one answer per text box. (Press <u><i>Tab</i></u>: Go to the next box)</label>
        </div>
        <br>
        <h5 style="text-align: center;color:gray"><i>answer 1: beer; answer 2: a bottle of beer; answer3: the beverage, answer 4: liquor; ...</i></h5>
      </div>

      <button type="button" id ="close-instructions" style="background-color: white; border: none; text-align: center; color:grey; font-size: 17px;" onclick="closeDetails()">
         &#x25B2 Close Instructions</button>

    </details>

    <hr>

    <div class="instance" id="instance1">
      <br>
      <h2 style="text-align: center">Blank 1</h2>
      <div class="video" id="video1">
        <p class="loading-video">Loading video...</p>
      </div>
      <div class="video-relates">
        <label id="video-instruction1" style="font-size:18px;">
          Please watch this <i>-- second</i> video while you listen to its <b><u>audio</u></b> (you may need to adjust
          your <b>device volume</b>).
          <br>When the video ends, <b>do not</b> click on any other video. Click the <u>buttons below</u> to control the
          video.
        </label>
        <br>
        <button id="minus-seconds1" type="button" class="video-controls">- 5s</button>
        <button id="speed-down1" type="button" class="video-controls">Speed<big>&#8595</big></button>
        <button id="restart-video1" type="button" class="video-controls"><big>&#8634</big></button>
        <button id="speed-up1" type="button" class="video-controls">Speed<big>&#8593</big></button>
        <button id="add-seconds1" type="button" class="video-controls">+ 5s</button>
      </div>
      <hr>

      <label class="pre-question-label" id="pre-question-label1"><b><i>Fill in the blank:</i></b></label>
      <h2 class="question" id="question1">Loading question...</h2>
      <div class="alert alert-info" id="error-message1"></div>

      <div class="answer-label-div">
        <label style="font-size:18px;" for="answers" class="answer-label" id="answer-label1">
          Each provided answer needs to be <big><i><u><b>one or more entities</b></u></i></big>, which should contain one or more words;
          <br>Please review the <a href="#instructions">Instructions</a> (includes information about the <b>bonus</b>);
          <br>Fill in <b>valid</b>, <b>natural</b>, <b>objective</b> and <b>brief</b> answers (please fill in as many answers as
          possible, while still being valid, natural, objective and brief);
          <br>You do <b>not</b> need to fill in all boxes, but the more you fill in, with the higher probability you can get the <b>bonus</b>;
          <br>Fill in the boxes <b>in order</b> from the most natural to the least natural answer.
          <br>Write one answer per text box. (Press <u><i>Tab</i></u>: Go to the next box)</label>
      </div>

      <div class="answer-block">
        <input type="text" id="answer1-1" name="answer1-1" minlength="1"'
                ' maxlength="20" size="20" placeholder="answer 1" autocomplete="off"></input>
        <input type="text" id="answer1-2" name="answer1-2" minlength="1"'
                ' maxlength="20" size="20" placeholder="answer 2" autocomplete="off"></input>
        <input type="text" id="answer1-3" name="answer1-3" minlength="1"'
                ' maxlength="20" size="20" placeholder="answer 3" autocomplete="off"></input>
        <input type="text" id="answer1-4" name="answer1-4" minlength="1"'
                ' maxlength="20" size="20" placeholder="answer 4" autocomplete="off"></input>
        <input type="text" id="answer1-5" name="answer1-5" minlength="1"'
                ' maxlength="20" size="20" placeholder="answer 5" autocomplete="off"></input>
        <input type="text" id="answer1-6" name="answer1-6" minlength="1"'
                ' maxlength="20" size="20" placeholder="answer 6" autocomplete="off"></input>
        <input type="text" id="answer1-7" name="answer1-7" minlength="1"'
                ' maxlength="20" size="20" placeholder="answer 7" autocomplete="off"></input>
        <input type="text" id="answer1-8" name="answer1-8" minlength="1"'
                ' maxlength="20" size="20" placeholder="answer 8" autocomplete="off"></input>
        <input type="text" id="answer1-9" name="answer1-9" minlength="1"'
                ' maxlength="20" size="20" placeholder="answer 9" autocomplete="off"></input>
        <input type="text" id="answer1-10" name="answer1-10" minlength="1"'
                ' maxlength="20" size="20" placeholder="answer 10" autocomplete="off"></input>
        <input type="text" id="answer1-11" name="answer1-11" minlength="1"'
                ' maxlength="20" size="20" placeholder="answer 11" autocomplete="off"></input>
        <input type="text" id="answer1-12" name="answer1-12" minlength="1"'
                ' maxlength="20" size="20" placeholder="answer 12" autocomplete="off"></input>
      </div>
    </div>
    <div class="instance" id="instance2">
      <br>
      <h2 style="text-align: center">Blank 2</h2>
      <div class="video" id="video2">
        <p class="loading-video">Loading video...</p>
      </div>
      <div class="video-relates">
        <label id="video-instruction2" style="font-size:18px;">
          Please watch this <i>-- second</i> video while you listen to its <b><u>audio</u></b> (you may need to adjust
          your <b>device volume</b>).
          <br>When the video ends, <b>do not</b> click on any other video. Click the <u>buttons below</u> to control the
          video.
        </label>
        <br>
        <button id="minus-seconds2" type="button" class="video-controls">- 5s</button>
        <button id="speed-down2" type="button" class="video-controls">Speed<big>&#8595</big></button>
        <button id="restart-video2" type="button" class="video-controls"><big>&#8634</big></button>
        <button id="speed-up2" type="button" class="video-controls">Speed<big>&#8593</big></button>
        <button id="add-seconds2" type="button" class="video-controls">+ 5s</button>
      </div>
      <hr>

      <label class="pre-question-label" id="pre-question-label2"><b><i>Fill in the blank:</i></b></label>
      <h2 class="question" id="question2">Loading question...</h2>
      <div class="alert alert-info" id="error-message2"></div>

      <div class="answer-label-div">
        <label style="font-size:18px;" for="answers" class="answer-label" id="answer-label2">
          Each provided answer needs to be <big><i><u><b>one or more entities</b></u></i></big>, which should contain one or more words;
          <br>Please review the <a href="#instructions">Instructions</a> (includes information about the <b>bonus</b>);
          <br>Fill in <b>valid</b>, <b>natural</b>, <b>objective</b> and <b>brief</b> answers (please fill in as many answers as
          possible, while still being valid, natural, objective and brief);
          <br>You do <b>not</b> need to fill in all boxes, but the more you fill in, with the higher probability you can get the <b>bonus</b>;
          <br>Fill in the boxes <b>in order</b> from the most natural to the least natural answer.
          <br>Write one answer per text box. (Press <u><i>Tab</i></u>: Go to the next box)</label>
      </div>

      <div class="answer-block">
        <input type="text" id="answer2-1" name="answer2-1" minlength="1"'
                ' maxlength="20" size="20" placeholder="answer 1" autocomplete="off"></input>
        <input type="text" id="answer2-2" name="answer2-2" minlength="1"'
                ' maxlength="20" size="20" placeholder="answer 2" autocomplete="off"></input>
        <input type="text" id="answer2-3" name="answer2-3" minlength="1"'
                ' maxlength="20" size="20" placeholder="answer 3" autocomplete="off"></input>
        <input type="text" id="answer2-4" name="answer2-4" minlength="1"'
                ' maxlength="20" size="20" placeholder="answer 4" autocomplete="off"></input>
        <input type="text" id="answer2-5" name="answer2-5" minlength="1"'
                ' maxlength="20" size="20" placeholder="answer 5" autocomplete="off"></input>
        <input type="text" id="answer2-6" name="answer2-6" minlength="1"'
                ' maxlength="20" size="20" placeholder="answer 6" autocomplete="off"></input>
        <input type="text" id="answer2-7" name="answer2-7" minlength="1"'
                ' maxlength="20" size="20" placeholder="answer 7" autocomplete="off"></input>
        <input type="text" id="answer2-8" name="answer2-8" minlength="1"'
                ' maxlength="20" size="20" placeholder="answer 8" autocomplete="off"></input>
        <input type="text" id="answer2-9" name="answer2-9" minlength="1"'
                ' maxlength="20" size="20" placeholder="answer 9" autocomplete="off"></input>
        <input type="text" id="answer2-10" name="answer2-10" minlength="1"'
                ' maxlength="20" size="20" placeholder="answer 10" autocomplete="off"></input>
        <input type="text" id="answer2-11" name="answer2-11" minlength="1"'
                ' maxlength="20" size="20" placeholder="answer 11" autocomplete="off"></input>
        <input type="text" id="answer2-12" name="answer2-12" minlength="1"'
                ' maxlength="20" size="20" placeholder="answer 12" autocomplete="off"></input>
      </div>
    </div>
    <div class="instance" id="instance3">
      <br>
      <h2 style="text-align: center">Blank 3</h2>
      <div class="video" id="video3">
        <p class="loading-video">Loading video...</p>
      </div>
      <div class="video-relates">
        <label id="video-instruction3" style="font-size:18px;">
          Please watch this <i>-- second</i> video while you listen to its <b><u>audio</u></b> (you may need to adjust
          your <b>device volume</b>).
          <br>When the video ends, <b>do not</b> click on any other video. Click the <u>buttons below</u> to control the
          video.
        </label>
        <br>
        <button id="minus-seconds3" type="button" class="video-controls">- 5s</button>
        <button id="speed-down3" type="button" class="video-controls">Speed<big>&#8595</big></button>
        <button id="restart-video3" type="button" class="video-controls"><big>&#8634</big></button>
        <button id="speed-up3" type="button" class="video-controls">Speed<big>&#8593</big></button>
        <button id="add-seconds3" type="button" class="video-controls">+ 5s</button>
      </div>
      <hr>

      <label class="pre-question-label" id="pre-question-label3"><b><i>Fill in the blank:</i></b></label>
      <h2 class="question" id="question3">Loading question...</h2>
      <div class="alert alert-info" id="error-message3"></div>

      <div class="answer-label-div">
        <label style="font-size:18px;" for="answers" class="answer-label" id="answer-label3">
          Each provided answer needs to be <big><i><u><b>one or more entities</b></u></i></big>, which should contain one or more words;
          <br>Please review the <a href="#instructions">Instructions</a> (includes information about the <b>bonus</b>);
          <br>Fill in <b>valid</b>, <b>natural</b>, <b>objective</b> and <b>brief</b> answers (please fill in as many answers as
          possible, while still being valid, natural, objective and brief);
          <br>You do <b>not</b> need to fill in all boxes, but the more you fill in, with the higher probability you can get the <b>bonus</b>;
          <br>Fill in the boxes <b>in order</b> from the most natural to the least natural answer.
          <br>Write one answer per text box. (Press <u><i>Tab</i></u>: Go to the next box)</label>
      </div>

      <div class="answer-block">
        <input type="text" id="answer3-1" name="answer3-1" minlength="1"'
                ' maxlength="20" size="20" placeholder="answer 1" autocomplete="off"></input>
        <input type="text" id="answer3-2" name="answer3-2" minlength="1"'
                ' maxlength="20" size="20" placeholder="answer 2" autocomplete="off"></input>
        <input type="text" id="answer3-3" name="answer3-3" minlength="1"'
                ' maxlength="20" size="20" placeholder="answer 3" autocomplete="off"></input>
        <input type="text" id="answer3-4" name="answer3-4" minlength="1"'
                ' maxlength="20" size="20" placeholder="answer 4" autocomplete="off"></input>
        <input type="text" id="answer3-5" name="answer3-5" minlength="1"'
                ' maxlength="20" size="20" placeholder="answer 5" autocomplete="off"></input>
        <input type="text" id="answer3-6" name="answer3-6" minlength="1"'
                ' maxlength="20" size="20" placeholder="answer 6" autocomplete="off"></input>
        <input type="text" id="answer3-7" name="answer3-7" minlength="1"'
                ' maxlength="20" size="20" placeholder="answer 7" autocomplete="off"></input>
        <input type="text" id="answer3-8" name="answer3-8" minlength="1"'
                ' maxlength="20" size="20" placeholder="answer 8" autocomplete="off"></input>
        <input type="text" id="answer3-9" name="answer3-9" minlength="1"'
                ' maxlength="20" size="20" placeholder="answer 9" autocomplete="off"></input>
        <input type="text" id="answer3-10" name="answer3-10" minlength="1"'
                ' maxlength="20" size="20" placeholder="answer 10" autocomplete="off"></input>
        <input type="text" id="answer3-11" name="answer3-11" minlength="1"'
                ' maxlength="20" size="20" placeholder="answer 11" autocomplete="off"></input>
        <input type="text" id="answer3-12" name="answer3-12" minlength="1"'
                ' maxlength="20" size="20" placeholder="answer 12" autocomplete="off"></input>
      </div>
    </div>
    <div class="instance" id="instance4">
      <br>
      <h2 style="text-align: center">Blank 4</h2>
      <div class="video" id="video4">
        <p class="loading-video">Loading video...</p>
      </div>
      <div class="video-relates">
        <label id="video-instruction4" style="font-size:18px;">
          Please watch this <i>-- second</i> video while you listen to its <b><u>audio</u></b> (you may need to adjust
          your <b>device volume</b>).
          <br>When the video ends, <b>do not</b> click on any other video. Click the <u>buttons below</u> to control the
          video.
        </label>
        <br>
        <button id="minus-seconds4" type="button" class="video-controls">- 5s</button>
        <button id="speed-down4" type="button" class="video-controls">Speed<big>&#8595</big></button>
        <button id="restart-video4" type="button" class="video-controls"><big>&#8634</big></button>
        <button id="speed-up4" type="button" class="video-controls">Speed<big>&#8593</big></button>
        <button id="add-seconds4" type="button" class="video-controls">+ 5s</button>
      </div>
      <hr>

      <label class="pre-question-label" id="pre-question-label4"><b><i>Fill in the blank:</i></b></label>
      <h2 class="question" id="question4">Loading question...</h2>
      <div class="alert alert-info" id="error-message4"></div>

      <div class="answer-label-div">
        <label style="font-size:18px;" for="answers" class="answer-label" id="answer-label4">
          Each provided answer needs to be <big><i><u><b>one or more entities</b></u></i></big>, which should contain one or more words;
          <br>Please review the <a href="#instructions">Instructions</a> (includes information about the <b>bonus</b>);
          <br>Fill in <b>valid</b>, <b>natural</b>, <b>objective</b> and <b>brief</b> answers (please fill in as many answers as
          possible, while still being valid, natural, objective and brief);
          <br>You do <b>not</b> need to fill in all boxes, but the more you fill in, with the higher probability you can get the <b>bonus</b>;
          <br>Fill in the boxes <b>in order</b> from the most natural to the least natural answer.
          <br>Write one answer per text box. (Press <u><i>Tab</i></u>: Go to the next box)</label>
      </div>

      <div class="answer-block">
        <input type="text" id="answer4-1" name="answer4-1" minlength="1"'
                ' maxlength="20" size="20" placeholder="answer 1" autocomplete="off"></input>
        <input type="text" id="answer4-2" name="answer4-2" minlength="1"'
                ' maxlength="20" size="20" placeholder="answer 2" autocomplete="off"></input>
        <input type="text" id="answer4-3" name="answer4-3" minlength="1"'
                ' maxlength="20" size="20" placeholder="answer 3" autocomplete="off"></input>
        <input type="text" id="answer4-4" name="answer4-4" minlength="1"'
                ' maxlength="20" size="20" placeholder="answer 4" autocomplete="off"></input>
        <input type="text" id="answer4-5" name="answer4-5" minlength="1"'
                ' maxlength="20" size="20" placeholder="answer 5" autocomplete="off"></input>
        <input type="text" id="answer4-6" name="answer4-6" minlength="1"'
                ' maxlength="20" size="20" placeholder="answer 6" autocomplete="off"></input>
        <input type="text" id="answer4-7" name="answer4-7" minlength="1"'
                ' maxlength="20" size="20" placeholder="answer 7" autocomplete="off"></input>
        <input type="text" id="answer4-8" name="answer4-8" minlength="1"'
                ' maxlength="20" size="20" placeholder="answer 8" autocomplete="off"></input>
        <input type="text" id="answer4-9" name="answer4-9" minlength="1"'
                ' maxlength="20" size="20" placeholder="answer 9" autocomplete="off"></input>
        <input type="text" id="answer4-10" name="answer4-10" minlength="1"'
                ' maxlength="20" size="20" placeholder="answer 10" autocomplete="off"></input>
        <input type="text" id="answer4-11" name="answer4-11" minlength="1"'
                ' maxlength="20" size="20" placeholder="answer 11" autocomplete="off"></input>
        <input type="text" id="answer4-12" name="answer4-12" minlength="1"'
                ' maxlength="20" size="20" placeholder="answer 12" autocomplete="off"></input>
      </div>
    </div>
    <div class="instance" id="instance5">
      <br>
      <h2 style="text-align: center">Blank 5</h2>
      <div class="video" id="video5">
        <p class="loading-video">Loading video...</p>
      </div>
      <div class="video-relates">
        <label id="video-instruction5" style="font-size:18px;">
          Please watch this <i>-- second</i> video while you listen to its <b><u>audio</u></b> (you may need to adjust
          your <b>device volume</b>).
          <br>When the video ends, <b>do not</b> click on any other video. Click the <u>buttons below</u> to control the
          video.
        </label>
        <br>
        <button id="minus-seconds5" type="button" class="video-controls">- 5s</button>
        <button id="speed-down5" type="button" class="video-controls">Speed<big>&#8595</big></button>
        <button id="restart-video5" type="button" class="video-controls"><big>&#8634</big></button>
        <button id="speed-up5" type="button" class="video-controls">Speed<big>&#8593</big></button>
        <button id="add-seconds5" type="button" class="video-controls">+ 5s</button>
      </div>
      <hr>

      <label class="pre-question-label" id="pre-question-label5"><b><i>Fill in the blank:</i></b></label>
      <h2 class="question" id="question5">Loading question...</h2>
      <div class="alert alert-info" id="error-message5"></div>

      <div class="answer-label-div">
        <label style="font-size:18px;" for="answers" class="answer-label" id="answer-label5">
          Each provided answer needs to be <big><i><u><b>one or more entities</b></u></i></big>, which should contain one or more words;
          <br>Please review the <a href="#instructions">Instructions</a> (includes information about the <b>bonus</b>);
          <br>Fill in <b>valid</b>, <b>natural</b>, <b>objective</b> and <b>brief</b> answers (please fill in as many answers as
          possible, while still being valid, natural, objective and brief);
          <br>You do <b>not</b> need to fill in all boxes, but the more you fill in, with the higher probability you can get the <b>bonus</b>;
          <br>Fill in the boxes <b>in order</b> from the most natural to the least natural answer.
          <br>Write one answer per text box. (Press <u><i>Tab</i></u>: Go to the next box; <u><i>Ctrl+Enter</i></u>:
          Submit answers)</label>
      </div>

      <div class="answer-block">
        <input type="text" id="answer5-1" name="answer5-1" minlength="1"'
                ' maxlength="20" size="20" placeholder="answer 1" autocomplete="off"></input>
        <input type="text" id="answer5-2" name="answer5-2" minlength="1"'
                ' maxlength="20" size="20" placeholder="answer 2" autocomplete="off"></input>
        <input type="text" id="answer5-3" name="answer5-3" minlength="1"'
                ' maxlength="20" size="20" placeholder="answer 3" autocomplete="off"></input>
        <input type="text" id="answer5-4" name="answer5-4" minlength="1"'
                ' maxlength="20" size="20" placeholder="answer 4" autocomplete="off"></input>
        <input type="text" id="answer5-5" name="answer5-5" minlength="1"'
                ' maxlength="20" size="20" placeholder="answer 5" autocomplete="off"></input>
        <input type="text" id="answer5-6" name="answer5-6" minlength="1"'
                ' maxlength="20" size="20" placeholder="answer 6" autocomplete="off"></input>
        <input type="text" id="answer5-7" name="answer5-7" minlength="1"'
                ' maxlength="20" size="20" placeholder="answer 7" autocomplete="off"></input>
        <input type="text" id="answer5-8" name="answer5-8" minlength="1"'
                ' maxlength="20" size="20" placeholder="answer 8" autocomplete="off"></input>
        <input type="text" id="answer5-9" name="answer5-9" minlength="1"'
                ' maxlength="20" size="20" placeholder="answer 9" autocomplete="off"></input>
        <input type="text" id="answer5-10" name="answer5-10" minlength="1"'
                ' maxlength="20" size="20" placeholder="answer 10" autocomplete="off"></input>
        <input type="text" id="answer5-11" name="answer5-11" minlength="1"'
                ' maxlength="20" size="20" placeholder="answer 11" autocomplete="off"></input>
        <input type="text" id="answer5-12" name="answer5-12" minlength="1"'
                ' maxlength="20" size="20" placeholder="answer 12" autocomplete="off"></input>
      </div>
    </div>
  </div>
  <crowd-button id="submit-button" form-action="submit" variant="primary">Submit</crowd-button>
</crowd-form>

<script src="https://assets.crowd.aws/crowd-html-elements.js"></script>

<script src="https://code.jquery.com/jquery-3.3.1.slim.min.js"
  integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js"
  integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1" crossorigin="anonymous"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js"
  integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM" crossorigin="anonymous"></script>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/js/bootstrap.min.js"></script>

<script type="text/javascript">
  // Define variables
  let videoIds = ['k7aPk5JcT-Q','${video1_id}', '${video2_id}', '${video3_id}', '${video4_id}', '${video5_id}'];
  let questions = ['${question1}','${question2}','${question3}','${question4}','${question5}'];
  let startTimes = ['0', Math.floor(parseFloat('${video1_start_time}')), Math.floor(parseFloat('${video2_start_time}')),
    Math.floor(parseFloat('${video3_start_time}')), Math.floor(parseFloat('${video4_start_time}')),
    Math.floor(parseFloat('${video5_start_time}'))];
  let endTimes = ['10', Math.floor(parseFloat('${video1_end_time}')), Math.floor(parseFloat('${video2_end_time}')),
    Math.floor(parseFloat('${video3_end_time}')), Math.floor(parseFloat('${video4_end_time}')),
    Math.floor(parseFloat('${video5_end_time}'))];
  // var poswarns = ["an adjective", "an adjective", "an adjective", "an adjective", "an adjective"];
  var poswarns = ["entity", "entity", "entity", "entity", "entity"];
  // Process variable
  for (ind = 0; ind != 5; ind++) {
    // videoIds[ind] = videoIds[ind].substring(2);
    questions[ind] = questions[ind].replace("[MASK]", "<a href=\"#error-message"+(ind+1).toString()+"\" style=\"color:#B2BABB;\"><u><i>&ltentity&gt</i></u></a>");
    // questions[ind] = questions[ind].replace("[MASK]", "<a href=\"#error-message"+(ind+1).toString()+"\" style=\"color:#B2BABB;\"><u><i>&ltadjective&gt</i></u></a>");
    // if (postags[ind] == "NN") {
    //   poswarns[ind] = "a noun";
    //   questions[ind] = questions[ind].replace("<u><i>&ltadjective&gt</i></u>", "<a href=\"#error-message"+(ind+1).toString()+"\" style=\"color:#B2BABB;\"><u><i>&ltnoun&gt</i></u></a>");
    // }
  }

  var tag = document.createElement('script');
  tag.src = "https://www.youtube.com/iframe_api";
  var firstScriptTag = document.getElementsByTagName('script')[0];
  firstScriptTag.parentNode.insertBefore(tag, firstScriptTag);

  // noinspection JSUnusedGlobalSymbols
  let players = [0, 0, 0, 0, 0, 0];
  function onYouTubeIframeAPIReady() {
    for (ind = 0; ind != 6; ind++) {
      players[ind] = new YT.Player('video' + ind.toString(), {
        videoId: videoIds[ind],
        playerVars: {
          enablejsapi: 1,
          loop: 1,
          autoplay: 0,
          controls: 0,            // hide the controls
          disablekb: 1,           // not respond to keyboard controls
          modestbranding: 1,
          fs: 0,                  // full screen button
          cc_load_policy: 0,      // Hide closed captions
          iv_load_policy: 3,      // Hide the Video Annotations
          start: startTimes[ind],
          end: endTimes[ind],
        }
      });
    }
  }

  // video bottons
  for (let ind = 0; ind != 6; ind++) {
    $("#restart-video"+ind.toString()).click(function () {
      players[ind].seekTo(startTimes[ind], true);
      players[ind].playVideo();
    });

    $("#add-seconds"+ind.toString()).click(function () {
      let ct = players[ind].getCurrentTime();
      if (ct + 5 >= endTimes[ind]) players[ind].seekTo(Math.max(endTimes[ind] - 1, startTimes[ind]), true);
      else players[ind].seekTo(ct + 5, true);
    });

    $("#minus-seconds"+ind.toString()).click(function () {
      let ct = players[ind].getCurrentTime();
      if (ct - 5 <= startTimes[ind]) players[ind].seekTo(startTimes[ind], true);
      else players[ind].seekTo(ct - 5, true);
    });

    let speeds = [0.25, 0.5, 1, 1.5, 2];
    let speedIndexs =[2,2,2,2,2,2];

    $("#speed-up"+ind.toString()).click(function () {
      if (speedIndexs[ind] < 4) {
        speedIndexs[ind] += 1;
        players[ind].setPlaybackRate(speeds[speedIndexs[ind]]);
      }
    });

    $("#speed-down"+ind.toString()).click(function () {
      if (speedIndexs[ind] > 0) {
        speedIndexs[ind] -= 1;
        players[ind].setPlaybackRate(speeds[speedIndexs[ind]]);
      }
    });
  }

  function closeDetails() {
    document.getElementById("instructions").removeAttribute("open");
    window.location = "#general-title";
    }

  function onDomContentLoaded() {
    // functions list
    ToNextBoxs = [];
    AtLeastOneFilleds = [];

    for(let ind=1;ind!=6;ind++){
      const $video_instruction = document.getElementById("video-instruction"+ind.toString()).innerHTML;
      // const $answer_label = document.getElementById("answer-label"+ind.toString()).innerHTML;
      // const $prequestion = document.getElementById("pre-question-label"+ind.toString()).innerHTML;
      const $question = document.getElementById('question'+ind.toString());
      const $answer1 = document.getElementById('answer'+ind.toString()+'-1');
      const $errormessage = document.getElementById('error-message'+ind.toString());
      // show video length
      document.getElementById("video-instruction"+ind.toString()).innerHTML = $video_instruction.replace("-- ", (endTimes[ind-1] - startTimes[ind-1]).toString()+"-");
      // show POS-tag
      // document.getElementById("answer-label"+ind.toString()).innerHTML = $answer_label.replace("--", poswarns[ind-1]);
      // document.getElementById("pre-question-label"+ind.toString()).innerHTML = $prequestion.replace("--", poswarns[ind-1]);

      $question.innerHTML = questions[ind-1];
      $($errormessage).text("Please fill in with at least one answer").fadeIn();
      document.getElementById('instance'+ind.toString()).querySelectorAll('input').forEach(item => {
        item.addEventListener('keydown', event => {
          ToNextBoxs[ind-1](item);
        });
        item.addEventListener('keyup', event => {
          AtLeastOneFilleds[ind-1]();
        });
      })

      // at least one input should be filled
      AtLeastOneFilled = function() {
        let empty = true;
        $('#instance'+ind.toString()+' input[type="text"]').each(function () {
          if ($(this).val() != "") {
            empty = false;
          }
        });
        if (empty) {
          $($errormessage).text("Please fill in with at least one answer").fadeIn();
        }
        else {
          $($errormessage).fadeOut("fast");
        }
      };

      // jump to the next box or submit
      if(ind == 5){
        ToNextBox = function(node){
          if (event.ctrlKey && event.keyCode == 13) {     // Ctrl + Enter, submit
            event.preventDefault();
            document.getElementById("submit-button").click();
          }
          else if (event.keyCode == 9) {                 // Tab, to the next box
            event.preventDefault();
            if (node.id != "answer"+ind.toString()+"-12") node.nextElementSibling.focus();
            else document.getElementById("answer"+ind.toString()+"-1").focus();
          }
        };
      }
      else{
        ToNextBox = function(node){
          if (event.keyCode == 9) {                      // Tab, to the next box
            event.preventDefault();
            if (node.id != "answer"+ind.toString()+"-12") node.nextElementSibling.focus();
            else document.getElementById("answer"+ind.toString()+"-1").focus();
          }
        };
      }

      AtLeastOneFilleds.push(AtLeastOneFilled);
      ToNextBoxs.push(ToNextBox);
    }
  };

  function main() {
    if (document.readyState === 'loading') {
      document.addEventListener('DOMContentLoaded', onDomContentLoaded);
    } else {
      onDomContentLoaded();
    }
  }

  main();
</script>
